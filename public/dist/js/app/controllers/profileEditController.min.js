app.controller("profileEditController",["$scope","Upload","$timeout","profileEditFactory","config",(a,o,t,e,l)=>{function r(e,l,r){console.log(r.policy),o.upload({url:"https://easyad-static.s3-eu-central-1.amazonaws.com",method:"POST",data:{key:l,acl:r.acl,policy:r.policy,"X-amz-signature":r["X-amz-signature"],"X-amz-credential":r["X-amz-credential"],"X-amz-algorithm":r["X-amz-algorithm"],"X-amz-date":r["X-amz-date"],"Content-Type":"",filename:l,file:o.dataUrltoBlob(e,l)}}).then(o=>{t(()=>{a.result=o.data})},o=>{o.status>0&&(a.errorMsg=o.status+": "+o.data)},o=>{a.progress=parseInt(100*o.loaded/o.total)})}a.openUploadProfilePictureModal=(()=>{$("#uploadProfilePictureModal").modal("show")}),a.onPhotoSelect=(()=>{a.openUploadProfilePictureModal()}),a.upload=((a,o)=>{e.get_s3_signature().then(t=>{const e=t.inputs;r(a,o,e)})})}]);