app.controller("profileEditController",["$scope","Upload","$timeout","profileEditFactory","config",(a,o,t,e,l)=>{function r(e,r,i,d,p,s){console.log("a"),o.upload({url:l.s3_upload_url,method:"POST",data:{key:"test.jpg",acl:a.acl,policy:a.policy,"X-amz-signature":i,"X-amz-credential":d,"X-amz-algorithm":p,"X-amz-date":s,filename:"test.jpg",file:o.dataUrltoBlob(e,r)}}).then(o=>{t(()=>{a.result=o.data})},o=>{o.status>0&&(a.errorMsg=o.status+": "+o.data)},o=>{a.progress=parseInt(100*o.loaded/o.total)})}a.openUploadProfilePictureModal=(()=>{$("#uploadProfilePictureModal").modal("show")}),a.onPhotoSelect=(()=>{a.openUploadProfilePictureModal()}),a.upload=((a,o)=>{e.get_s3_signature().then(t=>{const e=t.inputs;r(a,o,e["X-amz-signature"],e["X-amz-credential"],e["X-amz-algorithm"],e["X-amz-date"])})})}]);