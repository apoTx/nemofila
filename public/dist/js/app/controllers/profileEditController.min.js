app.controller("profileEditController",["$scope","Upload","$timeout","profileEditFactory","config",(o,t,a,e,l)=>{function r(e,r,i){console.log(i.policy),t.upload({url:l.s3_upload_url,method:"POST",data:{key:"test.jpg",acl:i.acl,policy:i.policy,"X-amz-signature":i["X-amz-signature"],"X-amz-credential":i["X-amz-credential"],"X-amz-algorithm":i["X-amz-algorithm"],"X-amz-date":i["X-amz-date"],"Content-Type":"",filename:"test.jpg",file:t.dataUrltoBlob(e,r)}}).then(t=>{a(()=>{o.result=t.data})},t=>{t.status>0&&(o.errorMsg=t.status+": "+t.data)},t=>{o.progress=parseInt(100*t.loaded/t.total)})}o.openUploadProfilePictureModal=(()=>{$("#uploadProfilePictureModal").modal("show")}),o.onPhotoSelect=(()=>{o.openUploadProfilePictureModal()}),o.upload=((o,t)=>{e.get_s3_signature().then(a=>{const e=a.inputs;r(o,t,e)})})}]);