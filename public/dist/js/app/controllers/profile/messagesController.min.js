app.controller("messagesController",["$scope","messageFactory","$routeParams",function(s,e,a){s.sendMessageFormData={},s.loadingMessages=!1,s.loadingConversations=!0,e.getConversations().then(e=>{s.loadingConversations=!1,s.conversations=e,console.log("conversations")}),a.id&&(s.sendMessageFormData.conversationId=a.id,s.visibleMessages=!0,s.loadingMessages=!0,e.getMessages(a.id).then(e=>{s.loadingMessages=!1,s.messages=e,console.log(e)})),s.messageSended=!1,s.sendMessage=(()=>{s.sendMessageLoading=!0,e.createMessage(s.sendMessageFormData,s.sendMessageFormData.conversationId).then(e=>{if(s.sendMessageLoading=!1,1!==e.status)return s.sendMessageErr=e.error,!1;console.log(e)})})}]);