app.controller("buyPowerController",["$scope","buyPowerFactory","$window","$routeParams",function(e,o,r,t){if(t.id){let r=t.id;e.loadingAd=!0,o.getAd(r).then(o=>{console.log(o),e.loadingAd=!1,e.ad=o})}e.powerNumber="0",e.buyPowerStatus=!1,e.buyPowerLoader=!1,$(()=>{function o(o){e.buyPowerLoader=!0,e.$apply(),fetch("/charge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign(o,{amount:parseInt(e.powerNumber)}))}).then(o=>{"OK"===o.statusText&&(e.buyPowerStatus=!0,e.buyPowerLoader=!1,e.$apply())})}$("#buttonCheckout").on("click",()=>{e.powerNumber=e.powerNumber.split(":")[1],console.log(e.powerNumber),parseInt(e.powerNumber)>0&&checkoutHandler.open({name:"Easyad",description:"Power Purchase",token:o})}),$(".powerNumber").on("change",()=>{e.powerNumber=$(".powerNumber").val()})})}]);