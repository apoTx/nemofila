app.controller("indexController",["$scope","$http","indexFactory",(e,t,d)=>{e.toggleFilterSidebar=(()=>{$(".filterSidebar").sidebar("setting","transition","overlay").sidebar("toggle")}),e.newAdForm={},e.init=(t=>{e.indexAdsLoading=!0,e.advancedSearchVisible=!1,d.getIndexAds(t).then(t=>{e.indexAdsLoading=!1,e.ads=t.data,e.adPerPage=t.adPerPage,e.adCount=t.adCount,e.currentPage=t.page})}),e.searchForm={},e.isSearch=!1,e.resultNumber=0,e.onSubmit=(t=>{e.indexAdsLoading=!0;let r={};try{r.countryId=e.countries[e.newAdForm.country]._id}catch(e){r.countryId=null}try{r.cityId=e.countries[e.newAdForm.country].cities[e.newAdForm.city]._id}catch(e){r.cityId=null}try{r.districtId=e.countries[e.newAdForm.country].cities[e.newAdForm.city].districts[e.newAdForm.district]._id}catch(e){r.districtId=null}let a={};try{a.categoryId=e.categories[e.newAdForm.category]._id}catch(e){a.categoryId=null}try{a.categoryChildId=e.categories[e.newAdForm.category].subCategories[e.newAdForm.categoryChild]._id}catch(e){a.categoryChildId=null}d.searchAd(e.searchForm.title,r,a).then(d=>{e.indexAdsLoading=!1,e.ads=d.data,e.isSearch=!0,e.resultNumber=d.data.length,e.adPerPage=d.adPerPage,e.adCount=d.adCount,e.currentPage=d.page,t&&e.toggleFilterSidebar()})}),e.advancedSearch=(()=>{e.advancedSearchVisible?e.advancedSearchVisible=!1:e.advancedSearchVisible=!0})}]);