app.controller("newAdController",["$scope","Upload","$timeout","$http",(e,o,t,n)=>{e.newAdForm={},e.steps={},e.steps.informations=!0,e.steps.preview=!1,$("#newAdForm").form(),e.anotherContact={},$(".ui.checkbox").checkbox({onChecked:()=>{e.anotherContact.checked=!0,setTimeout(()=>{$('input[name="anotherContactName"]').focus()},20)},onUnchecked:()=>{e.anotherContact.checked=!1},onChange:()=>{e.$apply()}}),e.newAdForm.uploadedFiles={},e.uploadFiles=function(n){n&&n.length&&o.upload({url:"newAd/uploadPhotos",method:"POST",data:{files:e.newAdForm.files}}).then(o=>{t(()=>{e.result=o.data})},o=>{o.status>0&&(e.errorMsg=o.status+": "+o.data)},o=>{e.progress=Math.min(100,parseInt(100*o.loaded/o.total))})},e.saveAd=(()=>{e.openSignInModal(),e.newAdBtnLoading=!0,e.steps.informations=!1,e.steps.preview=!0,n({url:"/newAd/saveAdBuffer",method:"POST",data:{data:e.newAdForm}}).then(o=>{console.log(o),e.newAdBtnLoading=!1},()=>{console.log("fail")})})}]);