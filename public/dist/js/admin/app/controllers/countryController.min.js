app.controller("countryController",["$scope","$http",(t,o)=>{t.countries={form:{country:{name:""},city:{name:""},district:{name:""}},list:[]},t.init=(()=>{o({url:path+"/countries/getCountries",method:"GET"}).then(o=>{t.countries.list=o.data},()=>{console.log("fail")})}),t.removeCountry=(e=>{window.confirm("Are you sure ?")&&o({url:path+"/countries/deleteCountry",method:"DELETE",data:{_id:t.countries.list[e]._id},headers:{"Content-type":"application/json;charset=utf-8"}}).then(o=>{1===o.data.status&&t.countries.list.splice(e,1)},()=>{console.log("fail")})}),t.saveCountry=(()=>{""!==t.countries.form.country.name&&o({url:path+"/countries/saveCountry",method:"POST",data:{name:t.countries.form.country.name}}).then(o=>{console.log(o),t.countries.list.push({name:o.data.name,_id:o.data._id}),t.countries.form.country.name=""},()=>{console.log("fail")})})}]);