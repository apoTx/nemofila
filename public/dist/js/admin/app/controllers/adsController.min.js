app.controller("adsController",["$scope","$http","adsFactory","$window",(t,a,e,d)=>{t.loadingAds=!0,e.getAllAds().then(a=>{t.loadingAds=!1,t.ads=a}),t.adEditForm={},t.adEditForm.publishStatus="1",t.adEditForm.reasonVisible=!1,t.changeStatus=(()=>{"2"===t.adEditForm.publishStatus?t.adEditForm.reasonVisible=!0:t.adEditForm.reasonVisible=!1}),t.submitEdit=(()=>{t.loadingEditSubmit=!0,e.publishAd(t.adEditForm).then(a=>{t.loadingEditSubmit=!1,1===a.status&&d.location.reload()})}),t.unpublish=(()=>{!0===confirm("Are you sure?")&&(t.loadingUnpublish=!0,e.unpublish(t.adEditForm.id).then(a=>{t.loadingUnpublish=!1,1===a.status&&d.location.reload()}))}),$(()=>{$("#startDate").calendar({type:"date",formatter:{date:function(t){if(!t)return"";let a=t.getDate()+"";a.length<2&&(a="0"+a);let e=t.getMonth()+1+"";return e.length<2&&(e="0"+e),t.getFullYear()+"-"+e+"-"+a}},onChange:a=>{t.searchForm.startDate=a}}),$("#endDate").calendar({type:"date",formatter:{date:function(t){if(!t)return"";let a=t.getDate()+"";a.length<2&&(a="0"+a);let e=t.getMonth()+1+"";return e.length<2&&(e="0"+e),t.getFullYear()+"-"+e+"-"+a}},onChange:a=>{t.searchForm.endDate=a}})}),t.searchForm={},t.advanceSearch=(()=>{t.loadingAds=!0,e.advanceSearch(t.searchForm).then(a=>{t.loadingAds=!1,t.ads=a})})}]);