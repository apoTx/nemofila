app.controller("adsController",["$scope","$http","adsFactory","$window",(t,e,a,o)=>{t.loadingAds=!0,a.getAllAds().then(e=>{t.loadingAds=!1,t.ads=e}),t.changeStatus=(t=>{console.log(t)}),t.adEditForm={},t.adEditForm.publishStatus="1",t.adEditForm.reasonVisible=!1,t.changeStatus=(()=>{"2"===t.adEditForm.publishStatus?t.adEditForm.reasonVisible=!0:t.adEditForm.reasonVisible=!1}),t.submitEdit=(()=>{t.loadingEditSubmit=!0,a.publishAd(t.adEditForm).then(e=>{console.log(e),t.loadingEditSubmit=!1,1===e.status&&o.location.reload()})}),t.unpublish=(()=>{!0===confirm("Are you sure?")&&(t.loadingUnpublish=!0,a.unpublish(t.adEditForm.id).then(e=>{t.loadingUnpublish=!1,1===e.status&&o.location.reload()}))}),$(()=>{$("#startDate").calendar({type:"date",formatter:{date:function(t){if(!t)return"";let e=t.getDate()+"";e.length<2&&(e="0"+e);let a=t.getMonth()+1+"";return a.length<2&&(a="0"+a),t.getFullYear()+"-"+a+"-"+e}},onChange:e=>{t.searchForm.startDate=e}}),$("#endDate").calendar({type:"date",formatter:{date:function(t){if(!t)return"";let e=t.getDate()+"";e.length<2&&(e="0"+e);let a=t.getMonth()+1+"";return a.length<2&&(a="0"+a),t.getFullYear()+"-"+a+"-"+e}},onChange:e=>{t.searchForm.endDate=e}})}),t.searchForm={},t.advanceSearch=(()=>{t.loadingAds=!0,console.log(t.searchForm),a.advanceSearch(t.searchForm).then(e=>{t.loadingAds=!1,t.ads=e,console.log(e)})})}]);