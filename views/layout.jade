doctype html
html
    head
        meta(charset='utf-8')
        meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
        meta(name='viewport', content='width=device-width, initial-scale=1.0, maximum-scale=1.0')

        title= title
            |  - EasyAd

        block stylesheets
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/reset.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/site.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/container.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/grid.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/header.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/image.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/menu.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/divider.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/list.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/segment.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/dropdown.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/icon.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/form.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/message.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/label.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/button.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/dimmer.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/modal.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/transition.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/sidebar.min.css')
            link(rel='stylesheet', type='text/css', href='/semantic/dist/components/flag.min.css')
            link(rel='old stylesheet', href='/dist/css/style.css')

    body(ng-app="app" ng-controller="layoutController")


        .ui.sidebar.inverted.vertical.right.menu.rightSidebar
            if !user
                a.item.no-before(href='javascript:;', ng-click="openSignUpModal()") #{i18n.__("sign_up")}
                a.item(href='javascript:;', ng-click="openSignInModal()") #{i18n.__("sign_in")}
            else
                a.item(href="/profile")=user.name
                    .ui.right.floated.red.label(ng-show="messageLength > 0", ng-cloak, style="display:none") {{ messageLength }}
                a.item(href='/logout') #{i18n.__("logout")}

            .item.text-center
                if user
                    a.ui.primary.button(href="/newAd") #{i18n.__("newAdBtn")}
                else
                    button.ui.primary.button(ng-click="openSignInModal()") #{i18n.__("newAdBtn")}


        .ui.fixed.inverted.menu
            .ui.container
                a.header.item(href='/')
                    img.logo(src='/img/logo.png')
                    | &nbsp; &nbsp;  &nbsp; &nbsp; Easy Ads

                .ui.container.computer.tablet.only.grid
                    .right.menu
                        .ui.simple.dropdown.item
                            div(ng-show=" '#{locale}' == 'en' ", ng-cloak)
                                i.gb.flag
                                | English

                            div(ng-show=" '#{locale}' == 'tr' ", ng-cloak)
                                i.tr.flag
                                | Türkçe

                            div(ng-show=" '#{locale}' == 'es' ", ng-cloak)
                                i.spain.flag
                                | Español

                            i.dropdown.icon
                            .menu
                                a.item(href="/en")
                                    i.gb.flag
                                    |  English
                                a.item(href="/tr")
                                    i.tr.flag
                                    |  Türkçe
                                a.item(href="/es")
                                    i.es.flag
                                    |  Español

                        if !user
                            a.item.no-before(href='javascript:;', ng-click="openSignUpModal()") #{i18n.__("sign_up")}
                            a.item(href='javascript:;', ng-click="openSignInModal()") #{i18n.__("sign_in")}
                        else
                            .ui.simple.dropdown.item
                                a(href="/profile")=user.name
                                i.dropdown.icon
                                .ui.red.label(ng-if="messageLength > 0", ng-cloak) {{ messageLength }}
                                .menu
                                    a.item(href='/profile#!/myads')
                                        i.icon.block.layout
                                        | #{i18n.__("my_ads")}
                                    a.item(href='/profile#!/messages')
                                        i.icon.comments
                                        | #{i18n.__("messages")} &nbsp;
                                        .ui.right.floated.red.label(ng-if="messageLength > 0", ng-cloak) {{ messageLength }}
                                    a.item(href='/profile#!/myfavourites')
                                        i.icon.star
                                        | #{i18n.__("favourites")}
                                    a.item(href='/logout')
                                        i.icon.sign.out
                                        | #{i18n.__("logout")}

                        .item
                            if user
                                a.ui.primary.button.right.floated.right(href="/newAd") #{i18n.__("newAdBtn")}
                            else
                                button.ui.primary.button.right.floated.right(ng-click="openSignInModal()") #{i18n.__("newAdBtn")}


            .ui.container.mobile.only.grid.no-grid-padding
                .right.menu
                   a.item.no-before(ng-click="toggleSidebar()")
                        i.sidebar.medium.icon

        .pusher
            .ui.main.container.aligned
                block content

        // Footer
        include partials/footer

        // Modals
        // SignUp Modal
        include partials/modals/signup

        // SignIn Modal
        include partials/modals/signIn

        // Forgot Modal
        include partials/modals/forgotPassword

        // subscribe Modal
        include partials/modals/subscribe



    block javascripts
        script(src="/angular/angular.min.js")
        script(src="/angular-route/angular-route.min.js")

        // ng-file-upload module
        script(src="/ng-file-upload/ng-file-upload-shim.min.js")
        script(src="/ng-file-upload/ng-file-upload.min.js")
        // ng-file-upload module ##

        // moment
        script(src='/moment/min/moment.min.js')
        script(src='/angular-moment/angular-moment.min.js')
        // moment ##

        // angular-paging
        script(src='/angular-paging/dist/paging.min.js')
        // angular-paging ##

        // ng-image-gallery
        script(src="/angular-animate/angular-animate.min.js")
        script(src="/ng-image-gallery/dist/ng-image-gallery.min.js")
        // ng-image-gallery ##

        // ng-wig
        script(src="/ngWig/dist/ng-wig.min.js")

        // angular-sanitize
        script(src="/angular-sanitize/angular-sanitize.min.js")

        script(src="/dist/js/app/main.min.js")
        script(src="/jquery/dist/jquery.min.js")

        // Factory
        script(src="/dist/js/app/services/profile/myMessageFactory.min.js")
        script(src="/dist/js/app/services/layoutFactory.min.js")

        // Controller
        script(src="/dist/js/app/controllers/layoutController.min.js")

        script(src="/semantic/dist/components/dimmer.min.js")
        script(src="/semantic/dist/components/modal.min.js")
        script(src="/semantic/dist/components/transition.min.js")
        script(src="/semantic/dist/components/form.min.js")
        script(src="/semantic/dist/components/sidebar.min.js")
