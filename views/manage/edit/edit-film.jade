extends ../layout

block body

	div(ng-controller="myCtrl", ng-init="test('tt0066921')")
		form.ui.form(ref='newForm', action='/manage/new', method='post', enctype='multipart/form-data')

			.ui.grid
				.six.wide.column.field
					#{d}
					label IMDB ID
					.ui.icon.input#imdb_id_div
						input(
							type='text', 
							name='imdb_id', 
							placeholder='IMDB ID',
							ng-model='imdb_id', 
							ng-change = "getFilmInfo_viaImdbID()",
						)
						i.search.icon

				.four.wide.column.field
					label IMDB Score
					input(type='text', name='imdb_score', ng-model='imdbScore')

			.ui.top.attached.tabular.menu
				a.item.active(data-tab='en') English
				a.item(data-tab='tr') Turkish
				a.item(data-tab='mk') Macedonian
				a.item(data-tab='sr') Serbian
				a.item(data-tab='hr') Croatian
				a.item(data-tab='es') Spanish
				a.item(data-tab='bg') Bulgarian


			.ui.bottom.attached.tab.segment.active(data-tab='en')
				.field
					label Film Adı
					input(type='text', name='title_en', ng-model="filmTitle", value="a", placeholder='Title', id="slug-source")
				
				.field
					label Açıklama
					textarea(name='description_en', ng-model="filmDescription.en" )

			.ui.bottom.attached.tab.segment(data-tab='tr')
				.field
					label Film Adı
					input(type='text', name='title_tr', ng-model="filmTitle", placeholder='Title')
				
				.field
					label Açıklama
					textarea(name='description_tr', ng-model="filmDescription.tr")

			.ui.bottom.attached.tab.segment(data-tab='mk')
				.field
					label Film Adı
					input(type='text', name='title_mk', ng-model="filmTitle", placeholder='Title')
				
				.field
					label Açıklama
					textarea(name='description_mk', ng-model="filmDescription.mk")

			.ui.bottom.attached.tab.segment(data-tab='sr')
				.field
					label Film Adı
					input(type='text', name='title_sr', ng-model="filmTitle", placeholder='Title')
				
				.field
					label Açıklama
					textarea(name='description_sr', ng-model="filmDescription.sr")

			.ui.bottom.attached.tab.segment(data-tab='hr')
				.field
					label Film Adı
					input(type='text', name='title_hr', ng-model="filmTitle", placeholder='Title')
				
				.field
					label Açıklama
					textarea(name='description_hr', ng-model="filmDescription.hr")

			.ui.bottom.attached.tab.segment(data-tab='es')
				.field
					label Film Adı
					input(type='text', name='title_es', ng-model="filmTitle", placeholder='Title')
				
				.field
					label Açıklama
					textarea(name='description_es', ng-model="filmDescription.es")

			.ui.bottom.attached.tab.segment(data-tab='bg')
				.field
					label Film Adı
					input(type='text', name='title_bg', ng-model="filmTitle", placeholder='Title')
				
				.field
					label Açıklama
					textarea(name='description_bg', ng-model="filmDescription.bg")



			.field
				label Slug
				input(type='text', name='slug', value="{{filmTitle | slugify}}" )



			.ui.grid
				.four.wide.column.field
					.field
						label Uzunluk (Saat)
						input(type='text', name='hours', ng-model="hours")
				.four.wide.column.field
					.field
						label Uzunluk (Dakika)
						input(type='text', name='minutes', ng-model="minutes")

				.four.wide.column.field
					.field
						label Release (Yıl)
						input(type='text', name='releaseYear', ng-model="releaseYear")
				.four.wide.column.field
					.field
						label Release (Ülke)
						input(type='text', name='releaseCountry', ng-model="releaseCountry")

				.eight.wide.column.field
					.field
						label Yönetmen
						input(type='text', name='director', ng-model="director")

				.sixteen.wide.column.field
					label Kategoriler
					.ui.horizontal.label(ng-repeat="(k, x) in categories")
						input(type='hidden', name='categories', value='{{categories}}')
						| {{ x.name }}

			br
			hr
			br
			br

			.ui.grid
				.eight.wide.column.field
					.sixteen.wide.column.field.margin-bottom-20
						label Film Cover
						input#file(type='file', name='film_cover', 
									ng-model='uploadedFilmPosters', 
									onchange="angular.element(this).scope().uploadFilmPoster(this)"
								)
					.ui.horizontal.divider Veya
					div.text-center.margin-top-20
						.ui.teal.labeled.icon.button.centered#get_imdb_poster(ng-click="getFilmPoster()")
							| Resmi IMDB den getir
							i.download.icon

				.eight.wide.column.field.text-center
					input#file(type='text', name='filmPosterImdb', ng-model='filmPosterImdb', style='display:none')
					input(type='text', name='posterFromImdb', ng-model="filmPoster", style='display:none')
					input(type='text', name='posterFromImdbFileName', ng-model="posterFromImdbFileName", style='display:none')

					input(type='text', name='bgFromImdbFileName', ng-model="bgFromImdbFileName", style='display:none')
					label Preview
					div
						img(ng-src="{{filmPoster}}", imageonload, id="blah", style="width:185px; height:278px")

			br
			br
			hr
			br
			h3 Altyazılar
			br
			.ui.grid
				.eight.wide.column.field
					label English
						input#file(type='file', name='subtitle_en')
				.eight.wide.column.field
					label Turkish
						input#file(type='file', name='subtitle_tr')
				.eight.wide.column.field
					label Macedonian
						input#file(type='file', name='subtitle_mk')
				.eight.wide.column.field
					label Serbian
						input#file(type='file', name='subtitle_sr')
				.eight.wide.column.field
					label Croatian
						input#file(type='file', name='subtitle_hr')
				.eight.wide.column.field
					label Spanish
						input#file(type='file', name='subtitle_es')
				.eight.wide.column.field
					label Bulgarian
						input#file(type='file', name='subtitle_bg')
				
			br
			hr
			br
			.ui.grid
				.eight.wide.column.field
					label Drive ID (Film)
					input(type='text', name='drive_id', placeholder='Drive ID')

				.eight.wide.column.field
					label Drive ID (Trailer)
					input(type='text', name='drive_id_trailer', placeholder='Drive ID Trailer')

			.ui.segment
				.field
					.ui.toggle.checkbox
						input.hidden(type='checkbox', name='active', tabindex='0')
						label Film yayınlansın mı?

			button.ui.button.primary.clearing.submitBtn(type='submit') Kaydet

			.clearfix

		

block append javascripts
	script(src="/dist/js/admin/app/newController.min.js")
	script(src="/dist/js/admin/new_film.min.js")